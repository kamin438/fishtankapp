{"ast":null,"code":"import React, { PureComponent, createRef } from 'react';\nimport isEqual from 'react-fast-compare';\nimport { debounce } from '../../utilities/debounce.js';\nimport { classNames } from '../../utilities/css.js';\nimport { headerCell } from '../shared.js';\nimport { measureColumn, getPrevAndCurrentColumns } from './utilities.js';\nimport styles from './DataTable.scss.js';\nimport { Cell } from './components/Cell/Cell.js';\nimport { Navigation } from './components/Navigation/Navigation.js';\nimport { AfterInitialMount } from '../AfterInitialMount/AfterInitialMount.js';\nimport { Sticky } from '../Sticky/Sticky.js';\nimport { useI18n } from '../../utilities/i18n/hooks.js';\nimport { EventListener } from '../EventListener/EventListener.js';\n\nclass DataTableInner extends PureComponent {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      condensed: false,\n      columnVisibilityData: [],\n      isScrolledFarthestLeft: true,\n      isScrolledFarthestRight: false\n    };\n    this.dataTable = /*#__PURE__*/createRef();\n    this.scrollContainer = /*#__PURE__*/createRef();\n    this.table = /*#__PURE__*/createRef();\n    this.stickyTableHeadingsRow = /*#__PURE__*/createRef();\n    this.tableHeadings = [];\n    this.stickyHeadings = [];\n    this.tableHeadingWidths = [];\n    this.stickyHeaderActive = false;\n    this.handleResize = debounce(() => {\n      const {\n        table: {\n          current: table\n        },\n        scrollContainer: {\n          current: scrollContainer\n        }\n      } = this;\n      let condensed = false;\n\n      if (table && scrollContainer) {\n        condensed = table.scrollWidth > scrollContainer.clientWidth;\n      }\n\n      this.setState({\n        condensed,\n        ...this.calculateColumnVisibilityData(condensed)\n      });\n    });\n\n    this.setCellRef = _ref => {\n      let {\n        ref,\n        index,\n        inStickyHeader\n      } = _ref;\n\n      if (ref == null) {\n        return;\n      }\n\n      if (inStickyHeader) {\n        this.stickyHeadings[index] = ref;\n        const button = ref.querySelector('button');\n\n        if (button == null) {\n          return;\n        }\n\n        button.addEventListener('focus', this.handleHeaderButtonFocus);\n      } else {\n        this.tableHeadings[index] = ref;\n        this.tableHeadingWidths[index] = ref.getBoundingClientRect().width;\n      }\n    };\n\n    this.changeHeadingFocus = () => {\n      const {\n        tableHeadings,\n        stickyHeadings\n      } = this;\n      const stickyFocusedItemIndex = stickyHeadings.findIndex(item => {\n        var _document$activeEleme;\n\n        return item === ((_document$activeEleme = document.activeElement) === null || _document$activeEleme === void 0 ? void 0 : _document$activeEleme.parentElement);\n      });\n      const tableFocusedItemIndex = tableHeadings.findIndex(item => {\n        var _document$activeEleme2;\n\n        return item === ((_document$activeEleme2 = document.activeElement) === null || _document$activeEleme2 === void 0 ? void 0 : _document$activeEleme2.parentElement);\n      });\n\n      if (stickyFocusedItemIndex < 0 && tableFocusedItemIndex < 0) {\n        return null;\n      }\n\n      let button;\n\n      if (stickyFocusedItemIndex >= 0) {\n        button = tableHeadings[stickyFocusedItemIndex].querySelector('button');\n      } else if (tableFocusedItemIndex >= 0) {\n        button = stickyHeadings[tableFocusedItemIndex].querySelector('button');\n      }\n\n      if (button == null) {\n        return null;\n      }\n\n      button.style.visibility = 'visible';\n      button.focus();\n      button.style.removeProperty('visibility');\n    };\n\n    this.calculateColumnVisibilityData = condensed => {\n      const {\n        table: {\n          current: table\n        },\n        scrollContainer: {\n          current: scrollContainer\n        },\n        dataTable: {\n          current: dataTable\n        }\n      } = this;\n\n      if (condensed && table && scrollContainer && dataTable) {\n        const headerCells = table.querySelectorAll(headerCell.selector);\n\n        if (headerCells.length > 0) {\n          const firstVisibleColumnIndex = headerCells.length - 1;\n          const tableLeftVisibleEdge = scrollContainer.scrollLeft;\n          const tableRightVisibleEdge = scrollContainer.scrollLeft + dataTable.offsetWidth;\n          const tableData = {\n            firstVisibleColumnIndex,\n            tableLeftVisibleEdge,\n            tableRightVisibleEdge\n          };\n          const columnVisibilityData = [...headerCells].map(measureColumn(tableData));\n          const lastColumn = columnVisibilityData[columnVisibilityData.length - 1];\n          return {\n            columnVisibilityData,\n            ...getPrevAndCurrentColumns(tableData, columnVisibilityData),\n            isScrolledFarthestLeft: tableLeftVisibleEdge === 0,\n            isScrolledFarthestRight: lastColumn.rightEdge <= tableRightVisibleEdge\n          };\n        }\n      }\n\n      return {\n        columnVisibilityData: [],\n        previousColumn: undefined,\n        currentColumn: undefined\n      };\n    };\n\n    this.handleHeaderButtonFocus = event => {\n      if (this.scrollContainer.current == null || event.target == null) {\n        return;\n      }\n\n      const target = event.target;\n      const currentCell = target.parentNode;\n      const tableScrollLeft = this.scrollContainer.current.scrollLeft;\n      const tableViewableWidth = this.scrollContainer.current.offsetWidth;\n      const tableRightEdge = tableScrollLeft + tableViewableWidth;\n      const firstColumnWidth = this.state.columnVisibilityData[0].rightEdge;\n      const currentColumnLeftEdge = currentCell.offsetLeft;\n      const currentColumnRightEdge = currentCell.offsetLeft + currentCell.offsetWidth;\n\n      if (tableScrollLeft > currentColumnLeftEdge - firstColumnWidth) {\n        this.scrollContainer.current.scrollLeft = currentColumnLeftEdge - firstColumnWidth;\n      }\n\n      if (currentColumnRightEdge > tableRightEdge) {\n        this.scrollContainer.current.scrollLeft = currentColumnRightEdge - tableViewableWidth;\n      }\n    };\n\n    this.stickyHeaderScrolling = () => {\n      const {\n        current: stickyTableHeadingsRow\n      } = this.stickyTableHeadingsRow;\n      const {\n        current: scrollContainer\n      } = this.scrollContainer;\n\n      if (stickyTableHeadingsRow == null || scrollContainer == null) {\n        return;\n      }\n\n      stickyTableHeadingsRow.scrollLeft = scrollContainer.scrollLeft;\n    };\n\n    this.scrollListener = () => {\n      debounce(() => {\n        this.setState(prevState => ({ ...this.calculateColumnVisibilityData(prevState.condensed)\n        }));\n      }, 500);\n\n      if (this.props.stickyHeader && this.stickyHeaderActive) {\n        this.stickyHeaderScrolling();\n      }\n    };\n\n    this.navigateTable = direction => {\n      const {\n        currentColumn,\n        previousColumn\n      } = this.state;\n      const {\n        current: scrollContainer\n      } = this.scrollContainer;\n\n      const handleScroll = () => {\n        if (!currentColumn || !previousColumn) {\n          return;\n        }\n\n        if (scrollContainer) {\n          scrollContainer.scrollLeft = direction === 'right' ? currentColumn.rightEdge : previousColumn.leftEdge;\n          requestAnimationFrame(() => {\n            this.setState(prevState => ({ ...this.calculateColumnVisibilityData(prevState.condensed)\n            }));\n          });\n        }\n      };\n\n      return handleScroll;\n    };\n\n    this.renderHeadings = (heading, headingIndex) => {\n      const {\n        sortable,\n        truncate = false,\n        columnContentTypes,\n        defaultSortDirection,\n        initialSortColumnIndex = 0,\n        verticalAlign\n      } = this.props;\n      const {\n        sortDirection = defaultSortDirection,\n        sortedColumnIndex = initialSortColumnIndex\n      } = this.state;\n      let sortableHeadingProps;\n      const id = `heading-cell-${headingIndex}`;\n\n      if (sortable) {\n        const isSortable = sortable[headingIndex];\n        const isSorted = isSortable && sortedColumnIndex === headingIndex;\n        const direction = isSorted ? sortDirection : 'none';\n        sortableHeadingProps = {\n          defaultSortDirection,\n          sorted: isSorted,\n          sortable: isSortable,\n          sortDirection: direction,\n          onSort: this.defaultOnSort(headingIndex)\n        };\n      }\n\n      return /*#__PURE__*/React.createElement(Cell, Object.assign({\n        setRef: ref => this.setCellRef({\n          ref,\n          index: headingIndex,\n          inStickyHeader: false\n        }),\n        header: true,\n        key: id,\n        content: heading,\n        contentType: columnContentTypes[headingIndex],\n        firstColumn: headingIndex === 0,\n        truncate: truncate\n      }, sortableHeadingProps, {\n        verticalAlign: verticalAlign\n      }));\n    };\n\n    this.totalsRowHeading = () => {\n      const {\n        i18n,\n        totals,\n        totalsName\n      } = this.props;\n      const totalsLabel = totalsName ? totalsName : {\n        singular: i18n.translate('Polaris.DataTable.totalRowHeading'),\n        plural: i18n.translate('Polaris.DataTable.totalsRowHeading')\n      };\n      return totals && totals.filter(total => total !== '').length > 1 ? totalsLabel.plural : totalsLabel.singular;\n    };\n\n    this.renderTotals = (total, index) => {\n      const id = `totals-cell-${index}`;\n      const {\n        truncate = false,\n        verticalAlign\n      } = this.props;\n      let content;\n      let contentType;\n\n      if (index === 0) {\n        content = this.totalsRowHeading();\n      }\n\n      if (total !== '' && index > 0) {\n        contentType = 'numeric';\n        content = total;\n      }\n\n      const totalInFooter = this.props.showTotalsInFooter;\n      return /*#__PURE__*/React.createElement(Cell, {\n        total: true,\n        totalInFooter: totalInFooter,\n        firstColumn: index === 0,\n        key: id,\n        content: content,\n        contentType: contentType,\n        truncate: truncate,\n        verticalAlign: verticalAlign\n      });\n    };\n\n    this.getColSpan = (rowLength, headingsLength, contentTypesLength, cellIndex) => {\n      const rowLen = rowLength ? rowLength : 1;\n      const colLen = headingsLength ? headingsLength : contentTypesLength;\n      const colSpan = Math.floor(colLen / rowLen);\n      const remainder = colLen % rowLen;\n      return cellIndex === 0 ? colSpan + remainder : colSpan;\n    };\n\n    this.defaultRenderRow = (row, index) => {\n      const {\n        columnContentTypes,\n        truncate = false,\n        verticalAlign,\n        hoverable = true,\n        headings\n      } = this.props;\n      const className = classNames(styles.TableRow, hoverable && styles.hoverable);\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        key: `row-${index}`,\n        className: className\n      }, row.map((content, cellIndex) => {\n        const id = `cell-${cellIndex}-row-${index}`;\n        const colSpan = this.getColSpan(row.length, headings.length, columnContentTypes.length, cellIndex);\n        return /*#__PURE__*/React.createElement(Cell, {\n          key: id,\n          content: content,\n          contentType: columnContentTypes[cellIndex],\n          firstColumn: cellIndex === 0,\n          truncate: truncate,\n          verticalAlign: verticalAlign,\n          colSpan: colSpan\n        });\n      }));\n    };\n\n    this.defaultOnSort = headingIndex => {\n      const {\n        onSort,\n        defaultSortDirection = 'ascending',\n        initialSortColumnIndex\n      } = this.props;\n      const {\n        sortDirection = defaultSortDirection,\n        sortedColumnIndex = initialSortColumnIndex\n      } = this.state;\n      let newSortDirection = defaultSortDirection;\n\n      if (sortedColumnIndex === headingIndex) {\n        newSortDirection = sortDirection === 'ascending' ? 'descending' : 'ascending';\n      }\n\n      const handleSort = () => {\n        this.setState({\n          sortDirection: newSortDirection,\n          sortedColumnIndex: headingIndex\n        }, () => {\n          if (onSort) {\n            onSort(headingIndex, newSortDirection);\n          }\n        });\n      };\n\n      return handleSort;\n    };\n  }\n\n  componentDidMount() {\n    // We need to defer the calculation in development so the styles have time to be injected.\n    if (process.env.NODE_ENV === 'development') {\n      setTimeout(() => {\n        this.handleResize();\n      }, 10);\n    } else {\n      this.handleResize();\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    if (isEqual(prevProps, this.props)) {\n      return;\n    }\n\n    this.handleResize();\n  }\n\n  componentWillUnmount() {\n    this.handleResize.cancel();\n  }\n\n  render() {\n    const {\n      headings,\n      totals,\n      showTotalsInFooter,\n      rows,\n      footerContent,\n      hideScrollIndicator = false,\n      increasedTableDensity = false,\n      hasZebraStripingOnData = false,\n      stickyHeader = false\n    } = this.props;\n    const {\n      condensed,\n      columnVisibilityData,\n      isScrolledFarthestLeft,\n      isScrolledFarthestRight\n    } = this.state;\n    const rowCountIsEven = rows.length % 2 === 0;\n    const className = classNames(styles.DataTable, condensed && styles.condensed, totals && styles.ShowTotals, showTotalsInFooter && styles.ShowTotalsInFooter, hasZebraStripingOnData && styles.ZebraStripingOnData, hasZebraStripingOnData && rowCountIsEven && styles.RowCountIsEven);\n    const wrapperClassName = classNames(styles.TableWrapper, condensed && styles.condensed, increasedTableDensity && styles.IncreasedTableDensity, stickyHeader && styles.StickyHeaderEnabled);\n    const headingMarkup = /*#__PURE__*/React.createElement(\"tr\", null, headings.map(this.renderHeadings));\n    const totalsMarkup = totals ? /*#__PURE__*/React.createElement(\"tr\", null, totals.map(this.renderTotals)) : null;\n    const bodyMarkup = rows.map(this.defaultRenderRow);\n    const footerMarkup = footerContent ? /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.Footer\n    }, footerContent) : null;\n    const headerTotalsMarkup = !showTotalsInFooter ? totalsMarkup : null;\n    const footerTotalsMarkup = showTotalsInFooter ? /*#__PURE__*/React.createElement(\"tfoot\", null, totalsMarkup) : null;\n    const navigationMarkup = hideScrollIndicator ? null : /*#__PURE__*/React.createElement(Navigation, {\n      columnVisibilityData: columnVisibilityData,\n      isScrolledFarthestLeft: isScrolledFarthestLeft,\n      isScrolledFarthestRight: isScrolledFarthestRight,\n      navigateTableLeft: this.navigateTable('left'),\n      navigateTableRight: this.navigateTable('right')\n    });\n    const stickyHeaderMarkup = stickyHeader ? /*#__PURE__*/React.createElement(AfterInitialMount, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.StickyTable,\n      role: \"presentation\"\n    }, /*#__PURE__*/React.createElement(Sticky, {\n      boundingElement: this.dataTable.current,\n      onStickyChange: isSticky => {\n        this.changeHeadingFocus();\n        this.stickyHeaderActive = isSticky;\n      }\n    }, isSticky => {\n      const stickyHeaderClassNames = classNames(styles.StickyTableHeader, isSticky && styles['StickyTableHeader-isSticky']);\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: stickyHeaderClassNames\n      }, /*#__PURE__*/React.createElement(\"div\", null, navigationMarkup), /*#__PURE__*/React.createElement(\"div\", {\n        className: styles.StickyTableHeadingsRow,\n        ref: this.stickyTableHeadingsRow\n      }, headings.map((heading, index) => {\n        const {\n          sortable,\n          truncate = false,\n          columnContentTypes,\n          defaultSortDirection,\n          initialSortColumnIndex = 0,\n          verticalAlign\n        } = this.props;\n        const {\n          sortDirection = defaultSortDirection,\n          sortedColumnIndex = initialSortColumnIndex\n        } = this.state;\n        const id = `heading-cell-${index}`;\n        let sortableHeadingProps;\n\n        if (sortable) {\n          const isSortable = sortable[index];\n          const isSorted = isSortable && sortedColumnIndex === index;\n          const direction = isSorted ? sortDirection : 'none';\n          sortableHeadingProps = {\n            defaultSortDirection,\n            sorted: isSorted,\n            sortable: isSortable,\n            sortDirection: direction,\n            onSort: this.defaultOnSort(index)\n          };\n        }\n\n        return /*#__PURE__*/React.createElement(Cell, Object.assign({\n          stickyHeadingCell: true,\n          setRef: ref => this.setCellRef({\n            ref,\n            index,\n            inStickyHeader: true\n          }),\n          header: true,\n          content: heading,\n          contentType: columnContentTypes[index],\n          firstColumn: index === 0,\n          truncate: truncate\n        }, sortableHeadingProps, {\n          verticalAlign: verticalAlign,\n          stickyCellWidth: this.tableHeadingWidths[index],\n          key: id\n        }));\n      })));\n    }))) : null;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: wrapperClassName\n    }, navigationMarkup, /*#__PURE__*/React.createElement(\"div\", {\n      className: className,\n      ref: this.dataTable\n    }, stickyHeaderMarkup, /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.ScrollContainer,\n      ref: this.scrollContainer\n    }, /*#__PURE__*/React.createElement(EventListener, {\n      event: \"resize\",\n      handler: this.handleResize\n    }), /*#__PURE__*/React.createElement(EventListener, {\n      capture: true,\n      passive: true,\n      event: \"scroll\",\n      handler: this.scrollListener\n    }), /*#__PURE__*/React.createElement(\"table\", {\n      className: styles.Table,\n      ref: this.table\n    }, /*#__PURE__*/React.createElement(\"thead\", null, headingMarkup, headerTotalsMarkup), /*#__PURE__*/React.createElement(\"tbody\", null, bodyMarkup), footerTotalsMarkup)), footerMarkup));\n  }\n\n}\n\nfunction DataTable(props) {\n  const i18n = useI18n();\n  return /*#__PURE__*/React.createElement(DataTableInner, Object.assign({}, props, {\n    i18n: i18n\n  }));\n}\n\nexport { DataTable };","map":{"version":3,"names":["React","PureComponent","createRef","isEqual","debounce","classNames","headerCell","measureColumn","getPrevAndCurrentColumns","styles","Cell","Navigation","AfterInitialMount","Sticky","useI18n","EventListener","DataTableInner","constructor","state","condensed","columnVisibilityData","isScrolledFarthestLeft","isScrolledFarthestRight","dataTable","scrollContainer","table","stickyTableHeadingsRow","tableHeadings","stickyHeadings","tableHeadingWidths","stickyHeaderActive","handleResize","current","scrollWidth","clientWidth","setState","calculateColumnVisibilityData","setCellRef","ref","index","inStickyHeader","button","querySelector","addEventListener","handleHeaderButtonFocus","getBoundingClientRect","width","changeHeadingFocus","stickyFocusedItemIndex","findIndex","item","_document$activeEleme","document","activeElement","parentElement","tableFocusedItemIndex","_document$activeEleme2","style","visibility","focus","removeProperty","headerCells","querySelectorAll","selector","length","firstVisibleColumnIndex","tableLeftVisibleEdge","scrollLeft","tableRightVisibleEdge","offsetWidth","tableData","map","lastColumn","rightEdge","previousColumn","undefined","currentColumn","event","target","currentCell","parentNode","tableScrollLeft","tableViewableWidth","tableRightEdge","firstColumnWidth","currentColumnLeftEdge","offsetLeft","currentColumnRightEdge","stickyHeaderScrolling","scrollListener","prevState","props","stickyHeader","navigateTable","direction","handleScroll","leftEdge","requestAnimationFrame","renderHeadings","heading","headingIndex","sortable","truncate","columnContentTypes","defaultSortDirection","initialSortColumnIndex","verticalAlign","sortDirection","sortedColumnIndex","sortableHeadingProps","id","isSortable","isSorted","sorted","onSort","defaultOnSort","createElement","Object","assign","setRef","header","key","content","contentType","firstColumn","totalsRowHeading","i18n","totals","totalsName","totalsLabel","singular","translate","plural","filter","total","renderTotals","totalInFooter","showTotalsInFooter","getColSpan","rowLength","headingsLength","contentTypesLength","cellIndex","rowLen","colLen","colSpan","Math","floor","remainder","defaultRenderRow","row","hoverable","headings","className","TableRow","newSortDirection","handleSort","componentDidMount","process","env","NODE_ENV","setTimeout","componentDidUpdate","prevProps","componentWillUnmount","cancel","render","rows","footerContent","hideScrollIndicator","increasedTableDensity","hasZebraStripingOnData","rowCountIsEven","DataTable","ShowTotals","ShowTotalsInFooter","ZebraStripingOnData","RowCountIsEven","wrapperClassName","TableWrapper","IncreasedTableDensity","StickyHeaderEnabled","headingMarkup","totalsMarkup","bodyMarkup","footerMarkup","Footer","headerTotalsMarkup","footerTotalsMarkup","navigationMarkup","navigateTableLeft","navigateTableRight","stickyHeaderMarkup","StickyTable","role","boundingElement","onStickyChange","isSticky","stickyHeaderClassNames","StickyTableHeader","StickyTableHeadingsRow","stickyHeadingCell","stickyCellWidth","ScrollContainer","handler","capture","passive","Table"],"sources":["/Users/kevalamin/Projects/fishtankapp/client/node_modules/@shopify/polaris/build/esm/components/DataTable/DataTable.js"],"sourcesContent":["import React, { PureComponent, createRef } from 'react';\nimport isEqual from 'react-fast-compare';\nimport { debounce } from '../../utilities/debounce.js';\nimport { classNames } from '../../utilities/css.js';\nimport { headerCell } from '../shared.js';\nimport { measureColumn, getPrevAndCurrentColumns } from './utilities.js';\nimport styles from './DataTable.scss.js';\nimport { Cell } from './components/Cell/Cell.js';\nimport { Navigation } from './components/Navigation/Navigation.js';\nimport { AfterInitialMount } from '../AfterInitialMount/AfterInitialMount.js';\nimport { Sticky } from '../Sticky/Sticky.js';\nimport { useI18n } from '../../utilities/i18n/hooks.js';\nimport { EventListener } from '../EventListener/EventListener.js';\n\nclass DataTableInner extends PureComponent {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      condensed: false,\n      columnVisibilityData: [],\n      isScrolledFarthestLeft: true,\n      isScrolledFarthestRight: false\n    };\n    this.dataTable = /*#__PURE__*/createRef();\n    this.scrollContainer = /*#__PURE__*/createRef();\n    this.table = /*#__PURE__*/createRef();\n    this.stickyTableHeadingsRow = /*#__PURE__*/createRef();\n    this.tableHeadings = [];\n    this.stickyHeadings = [];\n    this.tableHeadingWidths = [];\n    this.stickyHeaderActive = false;\n    this.handleResize = debounce(() => {\n      const {\n        table: {\n          current: table\n        },\n        scrollContainer: {\n          current: scrollContainer\n        }\n      } = this;\n      let condensed = false;\n\n      if (table && scrollContainer) {\n        condensed = table.scrollWidth > scrollContainer.clientWidth;\n      }\n\n      this.setState({\n        condensed,\n        ...this.calculateColumnVisibilityData(condensed)\n      });\n    });\n\n    this.setCellRef = ({\n      ref,\n      index,\n      inStickyHeader\n    }) => {\n      if (ref == null) {\n        return;\n      }\n\n      if (inStickyHeader) {\n        this.stickyHeadings[index] = ref;\n        const button = ref.querySelector('button');\n\n        if (button == null) {\n          return;\n        }\n\n        button.addEventListener('focus', this.handleHeaderButtonFocus);\n      } else {\n        this.tableHeadings[index] = ref;\n        this.tableHeadingWidths[index] = ref.getBoundingClientRect().width;\n      }\n    };\n\n    this.changeHeadingFocus = () => {\n      const {\n        tableHeadings,\n        stickyHeadings\n      } = this;\n      const stickyFocusedItemIndex = stickyHeadings.findIndex(item => {\n        var _document$activeEleme;\n\n        return item === ((_document$activeEleme = document.activeElement) === null || _document$activeEleme === void 0 ? void 0 : _document$activeEleme.parentElement);\n      });\n      const tableFocusedItemIndex = tableHeadings.findIndex(item => {\n        var _document$activeEleme2;\n\n        return item === ((_document$activeEleme2 = document.activeElement) === null || _document$activeEleme2 === void 0 ? void 0 : _document$activeEleme2.parentElement);\n      });\n\n      if (stickyFocusedItemIndex < 0 && tableFocusedItemIndex < 0) {\n        return null;\n      }\n\n      let button;\n\n      if (stickyFocusedItemIndex >= 0) {\n        button = tableHeadings[stickyFocusedItemIndex].querySelector('button');\n      } else if (tableFocusedItemIndex >= 0) {\n        button = stickyHeadings[tableFocusedItemIndex].querySelector('button');\n      }\n\n      if (button == null) {\n        return null;\n      }\n\n      button.style.visibility = 'visible';\n      button.focus();\n      button.style.removeProperty('visibility');\n    };\n\n    this.calculateColumnVisibilityData = condensed => {\n      const {\n        table: {\n          current: table\n        },\n        scrollContainer: {\n          current: scrollContainer\n        },\n        dataTable: {\n          current: dataTable\n        }\n      } = this;\n\n      if (condensed && table && scrollContainer && dataTable) {\n        const headerCells = table.querySelectorAll(headerCell.selector);\n\n        if (headerCells.length > 0) {\n          const firstVisibleColumnIndex = headerCells.length - 1;\n          const tableLeftVisibleEdge = scrollContainer.scrollLeft;\n          const tableRightVisibleEdge = scrollContainer.scrollLeft + dataTable.offsetWidth;\n          const tableData = {\n            firstVisibleColumnIndex,\n            tableLeftVisibleEdge,\n            tableRightVisibleEdge\n          };\n          const columnVisibilityData = [...headerCells].map(measureColumn(tableData));\n          const lastColumn = columnVisibilityData[columnVisibilityData.length - 1];\n          return {\n            columnVisibilityData,\n            ...getPrevAndCurrentColumns(tableData, columnVisibilityData),\n            isScrolledFarthestLeft: tableLeftVisibleEdge === 0,\n            isScrolledFarthestRight: lastColumn.rightEdge <= tableRightVisibleEdge\n          };\n        }\n      }\n\n      return {\n        columnVisibilityData: [],\n        previousColumn: undefined,\n        currentColumn: undefined\n      };\n    };\n\n    this.handleHeaderButtonFocus = event => {\n      if (this.scrollContainer.current == null || event.target == null) {\n        return;\n      }\n\n      const target = event.target;\n      const currentCell = target.parentNode;\n      const tableScrollLeft = this.scrollContainer.current.scrollLeft;\n      const tableViewableWidth = this.scrollContainer.current.offsetWidth;\n      const tableRightEdge = tableScrollLeft + tableViewableWidth;\n      const firstColumnWidth = this.state.columnVisibilityData[0].rightEdge;\n      const currentColumnLeftEdge = currentCell.offsetLeft;\n      const currentColumnRightEdge = currentCell.offsetLeft + currentCell.offsetWidth;\n\n      if (tableScrollLeft > currentColumnLeftEdge - firstColumnWidth) {\n        this.scrollContainer.current.scrollLeft = currentColumnLeftEdge - firstColumnWidth;\n      }\n\n      if (currentColumnRightEdge > tableRightEdge) {\n        this.scrollContainer.current.scrollLeft = currentColumnRightEdge - tableViewableWidth;\n      }\n    };\n\n    this.stickyHeaderScrolling = () => {\n      const {\n        current: stickyTableHeadingsRow\n      } = this.stickyTableHeadingsRow;\n      const {\n        current: scrollContainer\n      } = this.scrollContainer;\n\n      if (stickyTableHeadingsRow == null || scrollContainer == null) {\n        return;\n      }\n\n      stickyTableHeadingsRow.scrollLeft = scrollContainer.scrollLeft;\n    };\n\n    this.scrollListener = () => {\n      debounce(() => {\n        this.setState(prevState => ({ ...this.calculateColumnVisibilityData(prevState.condensed)\n        }));\n      }, 500);\n\n      if (this.props.stickyHeader && this.stickyHeaderActive) {\n        this.stickyHeaderScrolling();\n      }\n    };\n\n    this.navigateTable = direction => {\n      const {\n        currentColumn,\n        previousColumn\n      } = this.state;\n      const {\n        current: scrollContainer\n      } = this.scrollContainer;\n\n      const handleScroll = () => {\n        if (!currentColumn || !previousColumn) {\n          return;\n        }\n\n        if (scrollContainer) {\n          scrollContainer.scrollLeft = direction === 'right' ? currentColumn.rightEdge : previousColumn.leftEdge;\n          requestAnimationFrame(() => {\n            this.setState(prevState => ({ ...this.calculateColumnVisibilityData(prevState.condensed)\n            }));\n          });\n        }\n      };\n\n      return handleScroll;\n    };\n\n    this.renderHeadings = (heading, headingIndex) => {\n      const {\n        sortable,\n        truncate = false,\n        columnContentTypes,\n        defaultSortDirection,\n        initialSortColumnIndex = 0,\n        verticalAlign\n      } = this.props;\n      const {\n        sortDirection = defaultSortDirection,\n        sortedColumnIndex = initialSortColumnIndex\n      } = this.state;\n      let sortableHeadingProps;\n      const id = `heading-cell-${headingIndex}`;\n\n      if (sortable) {\n        const isSortable = sortable[headingIndex];\n        const isSorted = isSortable && sortedColumnIndex === headingIndex;\n        const direction = isSorted ? sortDirection : 'none';\n        sortableHeadingProps = {\n          defaultSortDirection,\n          sorted: isSorted,\n          sortable: isSortable,\n          sortDirection: direction,\n          onSort: this.defaultOnSort(headingIndex)\n        };\n      }\n\n      return /*#__PURE__*/React.createElement(Cell, Object.assign({\n        setRef: ref => this.setCellRef({\n          ref,\n          index: headingIndex,\n          inStickyHeader: false\n        }),\n        header: true,\n        key: id,\n        content: heading,\n        contentType: columnContentTypes[headingIndex],\n        firstColumn: headingIndex === 0,\n        truncate: truncate\n      }, sortableHeadingProps, {\n        verticalAlign: verticalAlign\n      }));\n    };\n\n    this.totalsRowHeading = () => {\n      const {\n        i18n,\n        totals,\n        totalsName\n      } = this.props;\n      const totalsLabel = totalsName ? totalsName : {\n        singular: i18n.translate('Polaris.DataTable.totalRowHeading'),\n        plural: i18n.translate('Polaris.DataTable.totalsRowHeading')\n      };\n      return totals && totals.filter(total => total !== '').length > 1 ? totalsLabel.plural : totalsLabel.singular;\n    };\n\n    this.renderTotals = (total, index) => {\n      const id = `totals-cell-${index}`;\n      const {\n        truncate = false,\n        verticalAlign\n      } = this.props;\n      let content;\n      let contentType;\n\n      if (index === 0) {\n        content = this.totalsRowHeading();\n      }\n\n      if (total !== '' && index > 0) {\n        contentType = 'numeric';\n        content = total;\n      }\n\n      const totalInFooter = this.props.showTotalsInFooter;\n      return /*#__PURE__*/React.createElement(Cell, {\n        total: true,\n        totalInFooter: totalInFooter,\n        firstColumn: index === 0,\n        key: id,\n        content: content,\n        contentType: contentType,\n        truncate: truncate,\n        verticalAlign: verticalAlign\n      });\n    };\n\n    this.getColSpan = (rowLength, headingsLength, contentTypesLength, cellIndex) => {\n      const rowLen = rowLength ? rowLength : 1;\n      const colLen = headingsLength ? headingsLength : contentTypesLength;\n      const colSpan = Math.floor(colLen / rowLen);\n      const remainder = colLen % rowLen;\n      return cellIndex === 0 ? colSpan + remainder : colSpan;\n    };\n\n    this.defaultRenderRow = (row, index) => {\n      const {\n        columnContentTypes,\n        truncate = false,\n        verticalAlign,\n        hoverable = true,\n        headings\n      } = this.props;\n      const className = classNames(styles.TableRow, hoverable && styles.hoverable);\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        key: `row-${index}`,\n        className: className\n      }, row.map((content, cellIndex) => {\n        const id = `cell-${cellIndex}-row-${index}`;\n        const colSpan = this.getColSpan(row.length, headings.length, columnContentTypes.length, cellIndex);\n        return /*#__PURE__*/React.createElement(Cell, {\n          key: id,\n          content: content,\n          contentType: columnContentTypes[cellIndex],\n          firstColumn: cellIndex === 0,\n          truncate: truncate,\n          verticalAlign: verticalAlign,\n          colSpan: colSpan\n        });\n      }));\n    };\n\n    this.defaultOnSort = headingIndex => {\n      const {\n        onSort,\n        defaultSortDirection = 'ascending',\n        initialSortColumnIndex\n      } = this.props;\n      const {\n        sortDirection = defaultSortDirection,\n        sortedColumnIndex = initialSortColumnIndex\n      } = this.state;\n      let newSortDirection = defaultSortDirection;\n\n      if (sortedColumnIndex === headingIndex) {\n        newSortDirection = sortDirection === 'ascending' ? 'descending' : 'ascending';\n      }\n\n      const handleSort = () => {\n        this.setState({\n          sortDirection: newSortDirection,\n          sortedColumnIndex: headingIndex\n        }, () => {\n          if (onSort) {\n            onSort(headingIndex, newSortDirection);\n          }\n        });\n      };\n\n      return handleSort;\n    };\n  }\n\n  componentDidMount() {\n    // We need to defer the calculation in development so the styles have time to be injected.\n    if (process.env.NODE_ENV === 'development') {\n      setTimeout(() => {\n        this.handleResize();\n      }, 10);\n    } else {\n      this.handleResize();\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    if (isEqual(prevProps, this.props)) {\n      return;\n    }\n\n    this.handleResize();\n  }\n\n  componentWillUnmount() {\n    this.handleResize.cancel();\n  }\n\n  render() {\n    const {\n      headings,\n      totals,\n      showTotalsInFooter,\n      rows,\n      footerContent,\n      hideScrollIndicator = false,\n      increasedTableDensity = false,\n      hasZebraStripingOnData = false,\n      stickyHeader = false\n    } = this.props;\n    const {\n      condensed,\n      columnVisibilityData,\n      isScrolledFarthestLeft,\n      isScrolledFarthestRight\n    } = this.state;\n    const rowCountIsEven = rows.length % 2 === 0;\n    const className = classNames(styles.DataTable, condensed && styles.condensed, totals && styles.ShowTotals, showTotalsInFooter && styles.ShowTotalsInFooter, hasZebraStripingOnData && styles.ZebraStripingOnData, hasZebraStripingOnData && rowCountIsEven && styles.RowCountIsEven);\n    const wrapperClassName = classNames(styles.TableWrapper, condensed && styles.condensed, increasedTableDensity && styles.IncreasedTableDensity, stickyHeader && styles.StickyHeaderEnabled);\n    const headingMarkup = /*#__PURE__*/React.createElement(\"tr\", null, headings.map(this.renderHeadings));\n    const totalsMarkup = totals ? /*#__PURE__*/React.createElement(\"tr\", null, totals.map(this.renderTotals)) : null;\n    const bodyMarkup = rows.map(this.defaultRenderRow);\n    const footerMarkup = footerContent ? /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.Footer\n    }, footerContent) : null;\n    const headerTotalsMarkup = !showTotalsInFooter ? totalsMarkup : null;\n    const footerTotalsMarkup = showTotalsInFooter ? /*#__PURE__*/React.createElement(\"tfoot\", null, totalsMarkup) : null;\n    const navigationMarkup = hideScrollIndicator ? null : /*#__PURE__*/React.createElement(Navigation, {\n      columnVisibilityData: columnVisibilityData,\n      isScrolledFarthestLeft: isScrolledFarthestLeft,\n      isScrolledFarthestRight: isScrolledFarthestRight,\n      navigateTableLeft: this.navigateTable('left'),\n      navigateTableRight: this.navigateTable('right')\n    });\n    const stickyHeaderMarkup = stickyHeader ? /*#__PURE__*/React.createElement(AfterInitialMount, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.StickyTable,\n      role: \"presentation\"\n    }, /*#__PURE__*/React.createElement(Sticky, {\n      boundingElement: this.dataTable.current,\n      onStickyChange: isSticky => {\n        this.changeHeadingFocus();\n        this.stickyHeaderActive = isSticky;\n      }\n    }, isSticky => {\n      const stickyHeaderClassNames = classNames(styles.StickyTableHeader, isSticky && styles['StickyTableHeader-isSticky']);\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: stickyHeaderClassNames\n      }, /*#__PURE__*/React.createElement(\"div\", null, navigationMarkup), /*#__PURE__*/React.createElement(\"div\", {\n        className: styles.StickyTableHeadingsRow,\n        ref: this.stickyTableHeadingsRow\n      }, headings.map((heading, index) => {\n        const {\n          sortable,\n          truncate = false,\n          columnContentTypes,\n          defaultSortDirection,\n          initialSortColumnIndex = 0,\n          verticalAlign\n        } = this.props;\n        const {\n          sortDirection = defaultSortDirection,\n          sortedColumnIndex = initialSortColumnIndex\n        } = this.state;\n        const id = `heading-cell-${index}`;\n        let sortableHeadingProps;\n\n        if (sortable) {\n          const isSortable = sortable[index];\n          const isSorted = isSortable && sortedColumnIndex === index;\n          const direction = isSorted ? sortDirection : 'none';\n          sortableHeadingProps = {\n            defaultSortDirection,\n            sorted: isSorted,\n            sortable: isSortable,\n            sortDirection: direction,\n            onSort: this.defaultOnSort(index)\n          };\n        }\n\n        return /*#__PURE__*/React.createElement(Cell, Object.assign({\n          stickyHeadingCell: true,\n          setRef: ref => this.setCellRef({\n            ref,\n            index,\n            inStickyHeader: true\n          }),\n          header: true,\n          content: heading,\n          contentType: columnContentTypes[index],\n          firstColumn: index === 0,\n          truncate: truncate\n        }, sortableHeadingProps, {\n          verticalAlign: verticalAlign,\n          stickyCellWidth: this.tableHeadingWidths[index],\n          key: id\n        }));\n      })));\n    }))) : null;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: wrapperClassName\n    }, navigationMarkup, /*#__PURE__*/React.createElement(\"div\", {\n      className: className,\n      ref: this.dataTable\n    }, stickyHeaderMarkup, /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.ScrollContainer,\n      ref: this.scrollContainer\n    }, /*#__PURE__*/React.createElement(EventListener, {\n      event: \"resize\",\n      handler: this.handleResize\n    }), /*#__PURE__*/React.createElement(EventListener, {\n      capture: true,\n      passive: true,\n      event: \"scroll\",\n      handler: this.scrollListener\n    }), /*#__PURE__*/React.createElement(\"table\", {\n      className: styles.Table,\n      ref: this.table\n    }, /*#__PURE__*/React.createElement(\"thead\", null, headingMarkup, headerTotalsMarkup), /*#__PURE__*/React.createElement(\"tbody\", null, bodyMarkup), footerTotalsMarkup)), footerMarkup));\n  }\n\n}\n\nfunction DataTable(props) {\n  const i18n = useI18n();\n  return /*#__PURE__*/React.createElement(DataTableInner, Object.assign({}, props, {\n    i18n: i18n\n  }));\n}\n\nexport { DataTable };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}