{"ast":null,"code":"import { useState, useCallback } from 'react';\nlet SelectionType;\n\n(function (SelectionType) {\n  SelectionType[\"All\"] = \"all\";\n  SelectionType[\"Page\"] = \"page\";\n  SelectionType[\"Multi\"] = \"multi\";\n  SelectionType[\"Single\"] = \"single\";\n})(SelectionType || (SelectionType = {}));\n\nfunction defaultResourceIDResolver(resource) {\n  if ('id' in resource) {\n    return resource.id;\n  }\n\n  throw new Error('Your resource does not directly contain an `id`. Pass a `resourceIDResolver` to `useIndexResourceState`');\n}\n\nfunction useIndexResourceState(resources) {\n  let {\n    selectedResources: initSelectedResources = [],\n    allResourcesSelected: initAllResourcesSelected = false,\n    resourceIDResolver = defaultResourceIDResolver\n  } = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n    selectedResources: [],\n    allResourcesSelected: false,\n    resourceIDResolver: defaultResourceIDResolver\n  };\n  const [selectedResources, setSelectedResources] = useState(initSelectedResources);\n  const [allResourcesSelected, setAllResourcesSelected] = useState(initAllResourcesSelected);\n  const handleSelectionChange = useCallback((selectionType, isSelecting, selection) => {\n    if (selectionType === SelectionType.All) {\n      setAllResourcesSelected(isSelecting);\n    } else if (allResourcesSelected) {\n      setAllResourcesSelected(false);\n    }\n\n    switch (selectionType) {\n      case SelectionType.Single:\n        setSelectedResources(newSelectedResources => isSelecting ? [...newSelectedResources, selection] : newSelectedResources.filter(id => id !== selection));\n        break;\n\n      case SelectionType.All:\n      case SelectionType.Page:\n        setSelectedResources(isSelecting ? resources.map(resourceIDResolver) : []);\n        break;\n\n      case SelectionType.Multi:\n        if (!selection) break;\n        setSelectedResources(newSelectedResources => {\n          const ids = [];\n\n          for (let i = selection[0]; i <= selection[1]; i++) {\n            const id = resourceIDResolver(resources[i]);\n\n            if (isSelecting && !newSelectedResources.includes(id) || !isSelecting && newSelectedResources.includes(id)) {\n              ids.push(id);\n            }\n          }\n\n          return isSelecting ? [...newSelectedResources, ...ids] : newSelectedResources.filter(id => !ids.includes(id));\n        });\n        break;\n    }\n  }, [allResourcesSelected, resources, resourceIDResolver]);\n  return {\n    selectedResources,\n    allResourcesSelected,\n    handleSelectionChange\n  };\n}\n\nexport { SelectionType, useIndexResourceState };","map":{"version":3,"names":["useState","useCallback","SelectionType","defaultResourceIDResolver","resource","id","Error","useIndexResourceState","resources","selectedResources","initSelectedResources","allResourcesSelected","initAllResourcesSelected","resourceIDResolver","setSelectedResources","setAllResourcesSelected","handleSelectionChange","selectionType","isSelecting","selection","All","Single","newSelectedResources","filter","Page","map","Multi","ids","i","includes","push"],"sources":["/Users/kevalamin/Projects/fishtankapp/client/node_modules/@shopify/polaris/build/esm/utilities/use-index-resource-state.js"],"sourcesContent":["import { useState, useCallback } from 'react';\n\nlet SelectionType;\n\n(function (SelectionType) {\n  SelectionType[\"All\"] = \"all\";\n  SelectionType[\"Page\"] = \"page\";\n  SelectionType[\"Multi\"] = \"multi\";\n  SelectionType[\"Single\"] = \"single\";\n})(SelectionType || (SelectionType = {}));\n\nfunction defaultResourceIDResolver(resource) {\n  if ('id' in resource) {\n    return resource.id;\n  }\n\n  throw new Error('Your resource does not directly contain an `id`. Pass a `resourceIDResolver` to `useIndexResourceState`');\n}\n\nfunction useIndexResourceState(resources, {\n  selectedResources: initSelectedResources = [],\n  allResourcesSelected: initAllResourcesSelected = false,\n  resourceIDResolver = defaultResourceIDResolver\n} = {\n  selectedResources: [],\n  allResourcesSelected: false,\n  resourceIDResolver: defaultResourceIDResolver\n}) {\n  const [selectedResources, setSelectedResources] = useState(initSelectedResources);\n  const [allResourcesSelected, setAllResourcesSelected] = useState(initAllResourcesSelected);\n  const handleSelectionChange = useCallback((selectionType, isSelecting, selection) => {\n    if (selectionType === SelectionType.All) {\n      setAllResourcesSelected(isSelecting);\n    } else if (allResourcesSelected) {\n      setAllResourcesSelected(false);\n    }\n\n    switch (selectionType) {\n      case SelectionType.Single:\n        setSelectedResources(newSelectedResources => isSelecting ? [...newSelectedResources, selection] : newSelectedResources.filter(id => id !== selection));\n        break;\n\n      case SelectionType.All:\n      case SelectionType.Page:\n        setSelectedResources(isSelecting ? resources.map(resourceIDResolver) : []);\n        break;\n\n      case SelectionType.Multi:\n        if (!selection) break;\n        setSelectedResources(newSelectedResources => {\n          const ids = [];\n\n          for (let i = selection[0]; i <= selection[1]; i++) {\n            const id = resourceIDResolver(resources[i]);\n\n            if (isSelecting && !newSelectedResources.includes(id) || !isSelecting && newSelectedResources.includes(id)) {\n              ids.push(id);\n            }\n          }\n\n          return isSelecting ? [...newSelectedResources, ...ids] : newSelectedResources.filter(id => !ids.includes(id));\n        });\n        break;\n    }\n  }, [allResourcesSelected, resources, resourceIDResolver]);\n  return {\n    selectedResources,\n    allResourcesSelected,\n    handleSelectionChange\n  };\n}\n\nexport { SelectionType, useIndexResourceState };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}